<!DOCTYPE html>
<html>
<head>
    <title>Student Results</title>
    <link rel="stylesheet" type="text/css" href="dashboard.css">
    <script>
        if (!localStorage.getItem('student_id')) {
            window.location.href = 'students-portal.html';
        }
    </script>
</head>
<body>

    <div class="header">
        <button id="menu-toggle" class="menu-toggle-btn">
            <span class="menu-icon"></span>
            <span class="menu-icon"></span>
            <span class="menu-icon"></span>
        </button>
        <img src="cavendish-logo.png" alt="Cavendish Logo" class="logo">
        <h1>Student Results</h1>
        <button class="logout" id="logoutBtn">Logout</button>
    </div>

    <div class="sidebar">
        <a href="dashboard.html">Home</a>
        <a href="dockets.html">Dockets</a>
        <a href="payments.html">Payments</a>
        <a href="results.html" class="active">Results</a>
    </div>

    <div class="main">
        <h2>Your Academic Results</h2>
        <p>Surname: <span id="studentSurname"> </span> First Name:<span id="studentFirstName"></span></p>
        <p>Student Number: <span id="studentNumber"> </span></p>
        <p>Academic results are not yet available as examinations have not been conducted.</p>
    </div>

<script>
document.getElementById('menu-toggle').addEventListener('click', function() {
    document.querySelector('.sidebar').classList.toggle('sidebar-mobile');
});

document.getElementById("logoutBtn").onclick = async () => {
    await fetch("/logout", {
        method: "POST",
        credentials: "include"
    });
    localStorage.clear();
    window.location.href = "students-portal.html";
};

const studentNumber = localStorage.getItem('student_number');
const studentFirstName = localStorage.getItem('student_first_name');
const studentLastName = localStorage.getItem('student_last_name');

document.getElementById('studentSurname').textContent = studentLastName;
document.getElementById('studentFirstName').textContent = studentFirstName;
document.getElementById('studentNumber').textContent = studentNumber;
</script>
</body>
</html>